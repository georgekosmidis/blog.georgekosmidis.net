<!DOCTYPE html><html lang=en prefix="og: https://ogp.me/ns#"><head><meta charset=utf-8><base href=https://blog.georgekosmidis.net/variables-in-bash-and-azure-pipelines.html><meta name=viewport content="width=device-width, initial-scale=1"><meta name=description content="In this article, we'll explore the basics of variables in Bash, focusing on the role of symbols like $, (, [, and {. Each of these symbols has a specific function in Bash scripting, from referencing variables to grouping commands and conditions. Understanding these will not only enhance your scripting skills but will also give you a better grasp of how similar concepts are applied in Azure Pipelines"><meta name=author content="George Kosmidis"><meta http-equiv=Content-Security-Policy content="script-src 'nonce-03904c80-0930-40a5-ba39-0a4a21ab2111'"><link rel=me type=text/html href=https://github.com/georgekosmidis><link rel=me type=text/html href="https://www.linkedin.com/in/georgekosmidis/"><link rel=me type=text/html href=https://www.youtube.com/c/GeorgeKosmidis><link rel=me type=text/html href="https://sessionize.com/georgekosmidis/"><link rel=me type=text/html href="https://www.meetup.com/munich-dotnet-meetup/members/202480733/profile/"><link rel=me type=text/html href="https://georgekosmidis.net/"><link rel=icon type=image/jpg href=/media/me_180x180.jpg><link rel=apple-touch-icon type=image/jpg sizes=180x180 href=/media/me_180x180.jpg><meta property=og:title content="Variables in Bash and Azure Pipelines"><meta property=og:type content=article><meta property=og:url content=https://blog.georgekosmidis.net/variables-in-bash-and-azure-pipelines.html><meta property=og:image content=https://blog.georgekosmidis.net/media/100620-feature.png><meta property="og:description " content="In this article, we'll explore the basics of variables in Bash, focusing on the role of symbols like $, (, [, and {. Each of these symbols has a specific function in Bash scripting, from referencing variables to grouping commands and conditions. Understanding these will not only enhance your scripting skills but will also give you a better grasp of how similar concepts are applied in Azure Pipelines"><meta property=og:article:published_time content="08/31/2024 14:15:00"><meta property=og:article:modified_time content="08/31/2024 14:51:00"><meta property=og:article:expiration_time content="12/31/9999 23:59:59"><meta property=og:article:author content="George Kosmidis"><meta property=og:article:section content=""><meta property=og:article:tag content=" azure-devops, azure-pipelines, bash, variables"><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.4.0/styles/vs2015.min.css integrity="sha256-Pi771++jBrwgeHVYGOa1sjN8idXlrrYSKQVI7+JA54k=" crossorigin=anonymous><title>Variables in Bash and Azure Pipelines</title><style>header{background-image:url(/media/header_bg.jpg);background-size:cover;background-position:100% 100%}header svg{width:25px;fill:#f8f9fa}footer svg{width:25px;fill:black}.me{width:180px;height:180px}.article{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word}.article img{max-width:100%;height:auto}h1,h2,h3,h4,h5,h6{font-weight:400}h2{margin-top:4rem}.right-column-container h2,.index-card-wrapper h2{margin-top:0}.h3,h3{margin-top:3rem;font-size:1.65rem}.h4,h4{font-size:1.4eem}.h5,h5{font-size:1.2eem}.h4,.h5,h4,h5{margin-top:2rem}th,strong,b{font-weight:500}a{text-decoration:none}a:hover{text-decoration:underline}a.btn svg{margin-bottom:3px}.article-google-engine-top,.article-google-engine-left{display:none}@media (min-width:992px){.container{max-width:1200px}header > .container{max-width:768px}.article-google-engine-left{display:block}td{padding:10px}}@media (max-width:991.98px){.container{padding-right:calc(var(--bs-gutter-x) * .3);padding-left:calc(var(--bs-gutter-x) * .3)}.article-google-engine-top{display:block}td{padding:5px 2px 5px 2px}}blockquote{text-rendering:optimizelegibility;font-weight:400;line-height:160%;box-sizing:inherit;background-color:#DEEBFF;outline-color:#171717;color:#171717;word-wrap:break-word;word-break:break-word;border:1px solid #DEEBFF;border-radius:.375rem;margin-top:1rem;padding:1rem;font-size:1rem;transition:height .5s ease-in,opacity .5s ease-in;display:block;position:relative}blockquote p{margin-bottom:0}dfn{border-color:#343a40}</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-3071108-41" nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><script nonce=03904c80-0930-40a5-ba39-0a4a21ab2111>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-3071108-41');</script></head><body class=bg-light><header class="container-fluid p-3 bg-dark border-bottom"> <div class="container text-white"> <div class=row> <div class="col-sm-12 col-md-3 text-center"> <a href="/"> <img src=/media/me_180x180.jpg class="rounded-circle border border-white border-5 me" alt="George Kosmidis - In this article, we'll explore the basics of variables in Bash, focusing on the role of symbols like $, (, [, and {. Each of these symbols has a specific function in Bash scripting, from referencing variables to grouping commands and conditions. Understanding these will not only enhance your scripting skills but will also give you a better grasp of how similar concepts are applied in Azure Pipelines"> </a> </div> <div class="col-sm-12 col-md-9"> <div class=container> <div class=row> <div class=col> <h1 class="display-5 text-center">George Kosmidis</h1> <small class="d-block text-center mt-3">Microsoft MVP | Speaks of Azure, AI & .NET | Founder of Munich .NET <br> Building tomorrow @<div style=display:none>slalom</div> <img src=/media/slalom_small.png title=slalom alt=slalom></small> </div> </div> <div class="row mt-3"> <div class="col text-center"> <a href=https://github.com/georgekosmidis target=_blank class=btn rel=noopener> <svg role=img class=icon viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> </a> <a href="https://www.linkedin.com/in/georgekosmidis/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg> </a> <a href=https://www.youtube.com/c/GeorgeKosmidis target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>YouTube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg> </a> <a href="https://sessionize.com/georgekosmidis/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 288 288" xmlns=http://www.w3.org/2000/svg><title>Sessionize</title><g transform="translate(0.000000,288.000000) scale(0.100000,-0.100000)"><path d="M135 2861 c-22 -10 -54 -34 -72 -52 -67 -71 -63 22 -63 -1369 0 -1391 -4 -1298 63 -1369 70 -73 42 -71 715 -71 l602 0 0 40 c0 108 -52 232 -127 301 -92 85 -229 125 -469 139 -119 6 -160 13 -190 28 -63 32 -96 81 -108 161 -6 43 12 87 470 1118 263 590 480 1073 483 1073 3 0 22 -42 41 -92 47 -127 157 -344 228 -453 156 -239 367 -450 607 -608 100 -65 373 -202 478 -238 37 -13 67 -27 67 -30 0 -3 -348 -160 -772 -349 -425 -188 -777 -346 -782 -350 -4 -5 11 -18 35 -30 235 -119 367 -331 394 -633 l7 -77 482 0 c444 0 484 2 521 19 51 23 111 89 125 138 8 27 10 249 8 773 -4 660 -6 743 -22 809 -69 289 -197 522 -396 721 -199 199 -432 327 -721 396 -67 16 -148 18 -819 21 -712 3 -747 2 -785 -16z m2069 -483 c99 -51 198 -181 200 -264 1 -57 -21 -79 -77 -78 -137 3 -328 220 -288 328 19 50 84 55 165 14z"></path></g></svg> </a> <a href="https://www.meetup.com/munich-dotnet-meetup/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>Meetup</title><path d="M6.98.555a.518.518 0 0 0-.105.011.53.53 0 1 0 .222 1.04.533.533 0 0 0 .409-.633.531.531 0 0 0-.526-.418zm6.455.638a.984.984 0 0 0-.514.143.99.99 0 1 0 1.02 1.699.99.99 0 0 0 .34-1.36.992.992 0 0 0-.846-.482zm-3.03 2.236a5.029 5.029 0 0 0-4.668 3.248 3.33 3.33 0 0 0-1.46.551 3.374 3.374 0 0 0-.94 4.562 3.634 3.634 0 0 0-.605 4.649 3.603 3.603 0 0 0 2.465 1.597c.018.732.238 1.466.686 2.114a3.9 3.9 0 0 0 5.423.992c.068-.047.12-.106.184-.157.987.881 2.47 1.026 3.607.24a2.91 2.91 0 0 0 1.162-1.69 4.238 4.238 0 0 0 2.584-.739 4.274 4.274 0 0 0 1.19-5.789 2.466 2.466 0 0 0 .433-3.308 2.448 2.448 0 0 0-1.316-.934 4.436 4.436 0 0 0-.776-2.873 4.467 4.467 0 0 0-5.195-1.656 5.106 5.106 0 0 0-2.773-.807zm-5.603.817a.759.759 0 0 0-.423.135.758.758 0 1 0 .863 1.248.757.757 0 0 0 .193-1.055.758.758 0 0 0-.633-.328zm15.994 2.37a.842.842 0 0 0-.47.151.845.845 0 1 0 1.175.215.845.845 0 0 0-.705-.365zm-8.15 1.028c.063 0 .124.005.182.014a.901.901 0 0 1 .45.187c.169.134.273.241.432.393.24.227.414.089.534.02.208-.122.369-.219.984-.208.633.011 1.363.237 1.514 1.317.168 1.199-1.966 4.289-1.817 5.722.106 1.01 1.815.299 1.96 1.22.186 1.198-2.136.753-2.667.493-.832-.408-1.337-1.34-1.12-2.26.16-.688 1.7-3.498 1.757-3.93.059-.44-.177-.476-.324-.484-.19-.01-.34.081-.526.362-.169.255-2.082 4.085-2.248 4.398-.296.56-.67.694-1.044.674-.548-.029-.798-.32-.72-.848.047-.31 1.26-3.049 1.323-3.476.039-.265-.013-.546-.275-.68-.263-.135-.572.07-.664.227-.128.215-1.848 4.706-2.032 5.038-.316.576-.65.76-1.152.784-1.186.056-2.065-.92-1.678-2.116.173-.532 1.316-4.571 1.895-5.599.389-.69 1.468-1.216 2.217-.892.387.167.925.437 1.084.507.366.163.759-.277.913-.412.155-.134.302-.276.49-.357.142-.06.343-.095.532-.094zm10.88 2.057a.468.468 0 0 0-.093.011.467.467 0 0 0-.36.555.47.47 0 0 0 .557.36.47.47 0 0 0 .36-.557.47.47 0 0 0-.464-.37zm-22.518.81a.997.997 0 0 0-.832.434 1 1 0 1 0 1.39-.258 1 1 0 0 0-.558-.176zm21.294 2.094a.635.635 0 0 0-.127.013.627.627 0 0 0-.48.746.628.628 0 0 0 .746.483.628.628 0 0 0 .482-.746.63.63 0 0 0-.621-.496zm-18.24 6.097a.453.453 0 0 0-.092.012.464.464 0 1 0 .195.908.464.464 0 0 0 .356-.553.465.465 0 0 0-.459-.367zm13.675 1.55a1.044 1.044 0 0 0-.583.187 1.047 1.047 0 1 0 1.456.265 1.044 1.044 0 0 0-.873-.451zM11.4 22.154a.643.643 0 0 0-.36.115.646.646 0 0 0-.164.899.646.646 0 0 0 .899.164.646.646 0 0 0 .164-.898.646.646 0 0 0-.54-.28z"></path></svg> </a> </div> </div> </div> </div> </div> </div> </header> <main class="container bg-light pt-4 pb-5"> <div class="row masonry"> <div class=container> <div class="row mx-auto article-google-engine-top"> <div class="col pb-4"> <div class="card text-center bg-transparent border-0" style=height:33px><script async src="https://cse.google.com/cse.js?cx=c67a1214306f44e87" nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><div class=gcse-searchbox-only></div> </div> </div> </div> <div class="row mx-auto"> <div class="col-lg-8 mb-4 shadow bg-white rounded"> <div class="container article"> <div class="row border-end border-start border-bottom bg-light"> <div class=col style=text-align:center> <a class="btn align-middle" href=https://github.com/georgekosmidis/blog.georgekosmidis.net//tree/main/workables/articles/100620-variables-in-bash-and-azure-pipelines/content.html role=button style=text-decoration:none target=_blank rel=noopener> <svg xmlns=http://www.w3.org/2000/svg width=22 height=22 fill=currentColor viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" /></svg> Edit Page </a> <a class="btn align-middle" href="https://github.com/georgekosmidis/blog.georgekosmidis.net//issues/new?permalink=https://github.com/georgekosmidis/blog.georgekosmidis.net//tree/main/workables/articles/100620-variables-in-bash-and-azure-pipelines/content.html" role=button style=text-decoration:none target=_blank rel=noopener> <svg xmlns=http://www.w3.org/2000/svg width=22 height=22 fill=currentColor viewBox="0 0 24 24"><path fill-rule=evenodd d="M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 13a2 2 0 100-4 2 2 0 000 4z"></path></svg> Create Issue </a> <a class="btn align-middle" href="https://github.com/georgekosmidis/blog.georgekosmidis.net/discussions/new?title=Variables in Bash and Azure Pipelines&amp;body=Article%20URL:%20https://blog.georgekosmidis.net//variables-in-bash-and-azure-pipelines.html" role=button style=text-decoration:none target=_blank rel=noopener> <svg aria-hidden=true height=22 viewBox="0 0 16 16" width=22><path fill-rule=evenodd d="M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z"></path></svg> Discuss </a> <a class="btn ms-4" href="/" role=button style=text-decoration:none> <svg xmlns=http://www.w3.org/2000/svg width=22 height=22 class=mb-1 fill=currentColor class="bi bi-house-fill" viewBox="0 0 16 16"><path fill-rule=evenodd d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"></path><path fill-rule=evenodd d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"></path></svg> Go Home </a> </div> </div> <div class=row> <div class="col mt-3"> <h1 class="text-center display-6">Variables in Bash and Azure Pipelines</h1> </div> </div> <div class=row> <div class="col pb-2"> <div class="text-black-50 text-center"> <small>by <a href="https://georgekosmidis.net/" rel=noopener>George Kosmidis</a> / Published 1 month and 2 weeks ago</small> </div> </div> </div> <div class=row> <div class="col text-center"> <img src=/media/100620-feature.png alt="Variables in Bash and Azure Pipelines"> </div> </div> <div class=row> <div class="col pt-3 pb-6"> <h1 id=contents>Contents</h1> <ul><li><a href=#contents>Contents</a></li> <li><a href=#intro>Intro</a></li> <li><a href=#part-1-variables-in-bash>Part 1. Variables in Bash</a> <ul><li><a href=#b-parentheses->b. Parentheses <code>(...)</code></a></li> <li><a href=#c-square-brackets->c. Square Brackets <code>[]</code></a></li> <li><a href=#d-curly-braces->d. Curly Braces <code>{}</code></a></li></ul> </li> <li><a href=#part-2-variables-in-azure-pipelines-tasks>Part 2. Variables in Azure Pipelines Tasks</a> <ul><li><a href=#a-using-variables-in-azure-pipelines>a. Using Variables in Azure Pipelines</a></li> <li><a href=#b-mapping-bash-concepts-to-azure-pipelines>b. Mapping Bash Concepts to Azure Pipelines</a></li></ul> </li> <li><a href=#part-3-combining-bash-and-azure-pipelines>Part 3. Combining Bash and Azure Pipelines</a> <ul><li><a href=#a-running-bash-scripts-in-azure-pipelines>a. Running Bash Scripts in Azure Pipelines</a></li> <li><a href=#b-variable-interchange-between-bash-and-azure-pipelines>b. Variable Interchange Between Bash and Azure Pipelines</a></li></ul> </li> <li><a href=#part-4-exchanging-variables-between-tasks>Part 4. Exchanging Variables Between Tasks</a> <ul><li><a href=#a-variable-scope-and-lifespan>a. Variable Scope and Lifespan</a></li> <li><a href=#b-practical-examples>b. Practical Examples</a></li></ul> </li> <li><a href=#part-5-exchanging-variables-between-jobs>Part 5. Exchanging Variables Between Jobs</a> <ul><li><a href=#a-job-dependencies-and-variable-sharing>a. Job Dependencies and Variable Sharing</a></li> <li><a href=#b-job-output-as-input>b. Job Output as Input</a></li> <li><a href=#persisting-variables-across-jobs-using-pipeline-artifacts>Persisting Variables Across Jobs Using Pipeline Artifacts</a></li></ul> </li> <li><a href=#part-6-exchanging-variables-between-stages>Part 6. Exchanging Variables Between Stages</a> <ul><li><a href=#a-stage-level-variable-sharing>a. Stage-Level Variable Sharing</a></li> <li><a href=#b-example-pipeline-with-multi-stage-variable-sharing>b. Example Pipeline with Multi-Stage Variable Sharing</a></li></ul> </li> <li><a href=#conclusion>Conclusion</a></li></ul> <h1 id=intro>Intro</h1> <p>In this article, we'll explore the basics of variables in Bash, focusing on the role of symbols like $, (, [, and {. Each of these symbols has a specific function in Bash scripting, from referencing variables to grouping commands and conditions. Understanding these will not only enhance your scripting skills but will also give you a better grasp of how similar concepts are applied in Azure Pipelines.</p> <h1 id=part-1.variables-in-bash>Part 1. Variables in Bash</h1> <p>Bash scripting is a powerful tool for automating tasks in Unix-based systems, and understanding how variables work is fundamental to making the most of it. In this section, we’ll break down how variables are defined and used in Bash, focusing on the key symbols: <code>$</code>, <code>()</code>, <code>[]</code>, and <code>{}</code>. Each of these plays a distinct role in how you interact with and manipulate variables within your scripts.</p> <h3 id=a.the-sign>a. The <code>$</code> Sign</h3> <p>The <code>$</code> sign is used to reference variables in Bash. When you define a variable, you simply assign a value to a name, like this:</p> <pre><code class=language-bash>MY_VAR=&quot;Hello, World!&quot;
</code></pre> <p>To access the value stored in <code>MY_VAR</code>, you prefix it with a <code>$</code>:</p> <pre><code class=language-bash>echo $MY_VAR
</code></pre> <p>This would output <code>Hello, World!</code> to the terminal.</p> <blockquote> <p>The <code>$</code> sign is also used for special variables that hold particular data, such as <code>$0</code> for the script name, <code>$1</code>, <code>$2</code>, etc., for positional parameters passed to the script, and <code>$#</code> for the number of arguments.</p> </blockquote> <h2 id=b.parentheses>b. Parentheses <code>(...)</code></h2> <h3 id=acommand-parentheses-for-variables><code>a=$(command)</code>: Parentheses for variables</h3> <p>Parentheses in Bash are primarily used for command substitution and grouping commands. When you use <code>$(...)</code>, the command inside the parentheses is executed, and its output is returned and can be stored in a variable:</p> <pre><code class=language-bash>DATE=$(date)
echo $DATE
</code></pre> <p>This script assigns the current date and time to the variable <code>DATE</code> and then echoes it. This approach is useful for capturing the output of commands directly into variables.</p> <h3 id=aa1-a2-a3-parentheses-for-arrays><code>a=(a1 a2 a3)</code>: Parentheses for arrays</h3> <p>Parentheses are also used for defining arrays:</p> <pre><code class=language-bash>my_array=(apple orange banana)
echo ${my_array[0]}
</code></pre> <p>In this example, <code>my_array</code> is an array containing three elements, and <code>apple</code> (the first element) is accessed using <code>${my_array[0]}</code>.</p> <h3 id=a1-2-arithmetic-expressions><code>a=((1 &lt; 2))</code> Arithmetic Expressions</h3> <p>Bash also offers double parentheses which is used to evaluate arithmetic expressions. Inside (( ... )), you can perform calculations like addition, subtraction, multiplication, division, and modulus. Here's a basic example:</p> <pre><code class=language-bash>a=5
b=3
result=$((a + b))
echo $result
# Outputs: 8
</code></pre> <p>Double parentheses can also be used for conditional expressions that involve arithmetic comparisons. For example:</p> <pre><code class=language-bash>x=10
if (( x &gt; 5 )); then
  echo &quot;x is greater than 5&quot;
fi

</code></pre> <h2 id=c.square-brackets>c. Square Brackets <code>[]</code></h2> <h3 id=if-a-b-simple-conditions><code>if [ a == b ]</code>: Simple Conditions</h3> <p>Square brackets in Bash are used in conditional expressions, particularly within <code>if</code> statements. They evaluate expressions and return a true or false value:</p> <pre><code class=language-bash>MY_VAR=&quot;Hello, World!&quot;
if [ $MY_VAR == &quot;Hello, World!&quot; ]; then
  echo &quot;The greeting is correct.&quot;
fi
# Outputs: &quot;The greeting is correct.&quot;
</code></pre> <p>This condition checks if <code>MY_VAR</code> equals &quot;Hello, World!&quot; and executes the block of code if the condition is true.</p> <h3 id=if-a.b-complex-conditions-with><code>if [[ a =~ &quot;.*b&quot; ]]</code>: Complex Conditions with</h3> <p>Bash also offers double square brackets <code>[[ ]]</code>, which are more powerful and flexible, allowing for more complex conditions without the need for escaping certain characters, e.g. the use of Regular Expressions:s</p> <pre><code class=language-bash>MY_VAR=&quot;Hello, World!&quot;
if [[ $MY_VAR =~ &quot;.*World!&quot; ]]; then
  echo &quot;The greeting is correct.&quot;
fi
# Outputs: &quot;The greeting is correct.&quot;
</code></pre> <h2 id=d.curly-braces>d. Curly Braces <code>{}</code></h2> <h3 id=avars-variable-expansion><code>a=${VAR}s</code>: Variable Expansion</h3> <p>Curly braces are used in Bash for variable expansion and grouping expressions. They allow you to manipulate variables more precisely:</p> <pre><code class=language-bash>ANIMAL=&quot;bear&quot;
echo &quot;These are ${ANIMAL}s!&quot;
# Output: These are bears!
</code></pre> <p>This script outputs <code>These are bears!</code>. The braces make it clear where the variable name ends, allowing you to append text directly to the variable.</p> <h3 id=for-1.5-loops-and-brace-expansion><code>for {1..5}</code>: Loops and brace expansion</h3> <p>Curly braces are also useful in loops and brace expansion:</p> <pre><code class=language-bash>for i in {1..5}; do
  echo &quot;Number $i&quot;
done
</code></pre> <p>This loop iterates from 1 to 5, printing each number. Brace expansion can be a powerful tool for generating sequences or lists.</p> <h1 id=part-2.variables-in-azure-pipelines-tasks>Part 2. Variables in Azure Pipelines Tasks</h1> <h2 id=a.using-variables-in-azure-pipelines>a. Using Variables in Azure Pipelines</h2> <p>In Azure Pipelines, variables are essential for customizing and controlling your CI/CD workflows. They allow you to store and reuse values across different stages, jobs, and tasks within a pipeline. Azure Pipelines comes with a set of predefined variables that provide useful information about the pipeline run, such as <code>Build.BuildId</code>, <code>System.JobName</code>, and <code>Agent.WorkFolder</code>. These predefined variables are available automatically and can be referenced to retrieve key details about the environment and execution context.</p> <p>You can also define your own variables in Azure Pipelines. These custom variables can be defined at different levels: pipeline, stage, job, or task. They are defined in your pipeline YAML file using the <code>variables</code> keyword. Here’s a basic example of defining and using a variable in an Azure Pipelines YAML file:</p> <pre><code class=language-yaml>variables:
  myVariable: 'Hello, World!'

steps:
- script: echo $(myVariable)
  displayName: 'Display myVariable'
</code></pre> <p>In this example, <code>myVariable</code> is defined at the pipeline level and can be referenced using the <code>$(variableName)</code> syntax. The <code>script</code> task then uses <code>$(myVariable)</code> to echo the value of the variable. This syntax is how you generally reference variables throughout Azure Pipelines, allowing you to inject dynamic content into your pipeline scripts and tasks.</p> <h2 id=b.mapping-bash-concepts-to-azure-pipelines>b. Mapping Bash Concepts to Azure Pipelines</h2> <p>When you move from Bash scripting to Azure Pipelines, it’s important to understand how the symbols <code>$</code>, <code>()</code>, <code>[]</code>, and <code>{}</code> translate to variable handling in the pipeline context.</p> <ul><li><p><strong><code>$</code> Sign</strong>: Just like in Bash, the <code>$</code> sign in Azure Pipelines is used to reference variables. In Bash, <code>$</code> is followed by the variable name to access its value, e.g., <code>$MY_VAR</code>. In Azure Pipelines, you use <code>$(variableName)</code> to achieve a similar effect. However, unlike Bash, <strong>the parentheses <code>()</code> are part of the syntax in Azure Pipelines</strong>.</p> </li> <li><p><strong>Parentheses <code>()</code></strong>: In Bash, <code>()</code> are often used for command substitution or to group commands in subshells. In Azure Pipelines, parentheses are incorporated into the syntax for variable references, i.e., <code>$(variableName)</code>. This helps distinguish variable references from other text within the YAML file, making it clear where a variable is being substituted.</p> </li> <li><p><strong>Square Brackets <code>[]</code></strong>: In Bash, <code>[]</code> are typically used in conditional expressions, such as <code>[ $MY_VAR -eq 1 ]</code>. In Azure Pipelines, while you don't use square brackets directly for conditions in the same way, they play a role in YAML syntax, particularly for lists and conditions within pipeline definitions. For example, you might see them used in condition expressions like this:</p> <pre><code class=language-yaml>condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/main'))
</code></pre> <p>Here, square brackets are used to reference variables in conditions, particularly when the variable name includes special characters or when accessing nested variables.</p> </li> <li><p><strong>Curly Braces <code>{}</code></strong>: In Bash, curly braces are used for variable expansion and grouping, like <code>${MY_VAR}</code>. In Azure Pipelines, curly braces are less common but might appear in expressions or template syntax. For instance, when defining expressions for conditions or when using template expressions, curly braces can be used:</p> <pre><code class=language-yaml>steps:
- script: echo &quot;Value of myVar is ${{ variables.myVariable }}&quot;
  displayName: 'Display myVariable using curly braces'
</code></pre> <p>Here, <code>${{ }}</code> is used to evaluate expressions and access variables in a more complex way than the simple <code>$(variableName)</code> syntax.</p> </li></ul> <h3 id=examples-of-using-these-concepts-in-pipeline-tasks>Examples of Using These Concepts in Pipeline Tasks</h3> <p>Consider the following examples that showcase how these concepts are utilized in pipeline tasks:</p> <ol><li><p><strong>Command-line Task with Variables</strong>:</p> <pre><code class=language-yaml>variables:
  myNumber: 10

steps:
- script: echo &quot;The value is $(myNumber)&quot;
  displayName: 'Echo myNumber'
</code></pre> <p>In this example, the variable <code>$(myNumber)</code> is referenced within a script task, similar to how you'd use <code>$myNumber</code> in Bash.</p> </li> <li><p><strong>Using Variables in Conditions</strong>:</p> <pre><code class=language-yaml>steps:
- script: echo &quot;This will run only if the branch is main&quot;
  condition: eq(variables['Build.SourceBranch'], 'refs/heads/main')
  displayName: 'Conditional Task'
</code></pre> <p>Here, square brackets are used within the <code>condition</code> to safely access the <code>Build.SourceBranch</code> variable.</p> </li></ol> <h1 id=part-3.combining-bash-and-azure-pipelines>Part 3. Combining Bash and Azure Pipelines</h1> <h2 id=a.running-bash-scripts-in-azure-pipelines>a. Running Bash Scripts in Azure Pipelines</h2> <p>Running Bash scripts within Azure Pipelines is a common practice, especially when you need to execute complex logic or leverage existing scripts. Azure Pipelines offers built-in support for Bash, allowing you to run scripts directly in your pipeline tasks.</p> <p>To run a Bash script in an Azure Pipeline, you simply define a <code>bash</code> task within your pipeline YAML file:</p> <pre><code class=language-yaml>- task: Bash@3
  inputs:
    filePath: 'scripts/myscript.sh'
</code></pre> <p>You can also inline your Bash script directly within the YAML file:</p> <pre><code class=language-yaml>- script: |
    echo &quot;Running a script&quot;
    ./myscript.sh
  displayName: 'Run myscript.sh'
</code></pre> <p>When working with variables, you can pass Azure Pipeline variables to your Bash script as environment variables or command-line arguments. For example:</p> <pre><code class=language-yaml>- script: |
    echo &quot;Running my script with arguments&quot;
    ./myscript.sh $(PipelineVar)
  displayName: 'Run myscript.sh with PipelineVar'
</code></pre> <p>In this example, <code>$(PipelineVar)</code> is an Azure Pipeline variable that gets passed as an argument to the Bash script. Inside the <code>myscript.sh</code> script, you can access it using <code>$1</code> or similar positional parameters.</p> <p>Alternatively, you can pass variables as environment variables:</p> <pre><code class=language-yaml>- script: |
    echo &quot;Running my script with environment variable&quot;
    export MY_ENV_VAR=$(PipelineVar)
    ./myscript.sh
  displayName: 'Run myscript.sh with environment variable'
</code></pre> <h2 id=b.variable-interchange-between-bash-and-azure-pipelines>b. Variable Interchange Between Bash and Azure Pipelines</h2> <p>One of the powerful features of Azure Pipelines is the ability to set pipeline variables from within your Bash scripts. This allows you to output values from a script and use them in subsequent tasks or jobs.</p> <p>To set a variable in Azure Pipelines from a Bash script, you use the special <code>##vso</code> logging command:</p> <pre><code class=language-bash>echo &quot;##vso[task.setvariable variable=myVar]value&quot;
</code></pre> <p>In this command, <code>myVar</code> is the name of the pipeline variable, and <code>value</code> is the value you want to assign to it. Once set, <code>myVar</code> can be accessed in later tasks using the <code>$(myVar)</code> syntax.</p> <p>For example, in your pipeline YAML:</p> <pre><code class=language-yaml>- script: |
    MY_VALUE=&quot;Hello, Pipeline!&quot;
    echo &quot;##vso[task.setvariable variable=myVar]$MY_VALUE&quot;
  name: task1
  displayName: 'Set pipeline variable from script'

- script: |
    echo &quot;The value of myVar is: $(task1.myVar)&quot;
  displayName: 'Use pipeline variable'
</code></pre> <p>In this scenario, the first script sets the value of <code>myVar</code>, which is then used in the second script.</p> <h1 id=part-4.exchanging-variables-between-tasks>Part 4. Exchanging Variables Between Tasks</h1> <h2 id=a.variable-scope-and-lifespan>a. Variable Scope and Lifespan</h2> <p>In Azure Pipelines, variables defined within a task are automatically available to subsequent tasks in the same job. These variables can be used not just within the scripts of those tasks, but also in the YAML configuration of later tasks. This makes it easy to dynamically adjust the behavior of your pipeline based on the outputs of previous tasks.</p> <h2 id=b.practical-examples>b. Practical Examples</h2> <p>Let’s look at a few examples on how to consume the variable a task is outputting.</p> <h3 id=how-to-set-a-variable>How to set a variable</h3> <pre><code class=language-yaml>- task: Bash@3
  name: GenerateVar
  inputs:
    targetType: 'inline'
    script: |
      myVar=&quot;HelloWorld&quot;
      echo &quot;##vso[task.setvariable variable=myVar]$myVar&quot;
  displayName: 'Generate a variable'
</code></pre> <p>In this task, we set a variable named <code>myVar</code> with the value <code>&quot;HelloWorld&quot;</code>. The echo command outputs a special string that Azure Pipelines recognizes, storing <code>myVar</code> as a pipeline variable. The task is named <code>GenerateVar</code> for reference in subsequent steps.</p> <h3 id=how-to-use-it-in-a-script-of-a-task>How to use it in a script of a Task</h3> <pre><code class=language-yaml>- task: Bash@3
  inputs:
    targetType: 'inline'
    script: |
      echo &quot;The variable is: $(myVar)&quot;
  displayName: 'Use the variable from previous task'
</code></pre> <p>This task accesses the <code>myVar</code> variable set by the previous task and prints its value. The <code>$(myVar)</code> syntax is used to reference the variable within the script.</p> <h3 id=how-to-use-in-yaml>How to use in YAML</h3> <pre><code class=language-yaml>- task: Bash@3
  inputs:
    myVar:  $(GenerateVar.myVar)
    script: |
      ...
  displayName: 'Use the variable from previous task'
</code></pre> <p>Here, the variable <code>myVar</code> from the <code>GenerateVar</code> task is directly referenced using <code>$(GenerateVar.myVar)</code>. This allows you to use the value of <code>myVa</code>r in subsequent tasks, either within the script or as an input parameter.</p> <h3 id=how-to-use-in-conditions-in-yaml>How to use in conditions in YAML</h3> <pre><code class=language-yaml>- task: Bash@3
  name: ConditionalStep
  condition: eq(variables['myVar'], 'HelloWorld')
  inputs:
    targetType: 'inline'
    script: |
     ...
  displayName: 'Conditional execution based on variable'
</code></pre> <p>In this example, the <code>ConditionalStep</code> task will only execute if the value of <code>myVar</code> is equal to <code>HelloWorld</code>. The <code>condition</code> field is used to create a conditional step based on the value of a pipeline variable.</p> <h1 id=part-5.exchanging-variables-between-jobs>Part 5. Exchanging Variables Between Jobs</h1> <h2 id=a.job-dependencies-and-variable-sharing>a. Job Dependencies and Variable Sharing</h2> <p>In Azure Pipelines, jobs are often designed to be independent units of work. However, there are scenarios where you need to share variables between these jobs, particularly when the output of one job is necessary for the execution of another. This is where job dependencies and variable sharing come into play.</p> <h3 id=using-dependson-and-condition>Using <code>dependsOn</code> and <code>condition</code></h3> <p>The <code>dependsOn</code> attribute allows you to specify that a job should only run after one or more other jobs have successfully completed. This attribute is essential when you want to ensure that a downstream job only executes after its prerequisite jobs have finished processing.</p> <p>For variable sharing between jobs, the <code>condition</code> attribute is used to control the execution of a job based on the outcome of another job. This is useful for scenarios where you want to run a job only if certain conditions are met in a previous job.</p> <p>For example, consider the following YAML snippet:</p> <pre><code class=language-yaml>jobs:
- job: JobA
  steps:
  - script: echo &quot;##vso[task.setvariable variable=JobAVar]JobAOutput&quot;
    name: SetJobAVar

- job: JobB
  dependsOn: JobA
  condition: succeeded()  # Only runs if JobA succeeds
  steps:
  - script: echo &quot;JobA output was $(JobAVar)&quot;
</code></pre> <p>In this example, <code>JobB</code> depends on <code>JobA</code> and only runs if <code>JobA</code> is successful. The variable <code>JobAVar</code> is set in <code>JobA</code> and then accessed in <code>JobB</code> using the <code>$(JobAVar)</code> syntax.</p> <h2 id=b.job-output-as-input>b. Job Output as Input</h2> <p>There are many scenarios where the output from one job is essential for the execution of another. Azure Pipelines allows you to capture and pass this output between jobs seamlessly.</p> <h3 id=using-job-outputs>Using Job Outputs</h3> <p>To use the output of one job as the input to another, you can leverage the <code>jobOutputs</code> feature. This allows you to define outputs in a job that can be accessed by downstream jobs.</p> <p>Here’s a practical example:</p> <pre><code class=language-yaml>jobs:
- job: JobA
  steps:
  - script: echo &quot;JobA output&quot;
    name: SetJobAOutput
  - script: echo &quot;##vso[task.setvariable variable=JobAResult;isOutput=true]JobAOutput&quot;

- job: JobB
  dependsOn: JobA
  variables:
    JobBInput: $[ dependencies.JobA.outputs['SetJobAOutput.JobAResult'] ]
  steps:
  - script: echo &quot;JobA result: $(JobBInput)&quot;
</code></pre> <p>In this example, <code>JobA</code> sets a variable <code>JobAResult</code> and marks it as output using <code>isOutput=true</code>. In <code>JobB</code>, this output is accessed through the <code>dependencies</code> context, allowing <code>JobB</code> to use the value of <code>JobAResult</code>.</p> <h3 id=practical-example-with-a-multi-job-pipeline-setup>Practical Example with a Multi-Job Pipeline Setup</h3> <p>Consider a more comprehensive pipeline where the output from one job is critical for determining the behavior of another job. For instance, imagine a pipeline that first compiles code, then runs tests, and finally deploys the application only if the tests pass.</p> <pre><code class=language-yaml>jobs:
- job: Compile
  steps:
  - script: echo &quot;Compiling code...&quot;
  - script: echo &quot;##vso[task.setvariable variable=BuildOutput;isOutput=true]CompiledCode&quot;

- job: Test
  dependsOn: Compile
  variables:
    TestInput: $[ dependencies.Compile.outputs['Compile.BuildOutput'] ]
  steps:
  - script: echo &quot;Testing $(TestInput)&quot;
  - script: exit 1  # Simulating a test failure

- job: Deploy
  dependsOn:
    - Compile
    - Test
  condition: succeeded()
  variables:
    DeployInput: $[ dependencies.Compile.outputs['Compile.BuildOutput'] ]
  steps:
  - script: echo &quot;Deploying $(DeployInput)&quot;
</code></pre> <p>In this setup:</p> <ul><li>The <code>Compile</code> job compiles the code and outputs <code>CompiledCode</code>.</li> <li>The <code>Test</code> job runs tests using the compiled code. If the tests fail, <code>Deploy</code> won’t run due to the <code>condition: succeeded()</code> setting.</li> <li>If the tests pass, the <code>Deploy</code> job uses the same <code>CompiledCode</code> for deployment.</li></ul> <p>This example demonstrates a typical scenario where jobs are linked, and variables are passed from one to the next, ensuring that the entire pipeline behaves as expected based on the outputs of individual jobs.</p> <h2 id=persisting-variables-across-jobs-using-pipeline-artifacts>Persisting Variables Across Jobs Using Pipeline Artifacts</h2> <p>Another method to share data between jobs is through pipeline artifacts. Artifacts are files or directories created during the execution of a job that can be passed to subsequent jobs. This approach is especially useful for sharing larger sets of data or complex outputs that can’t be easily managed as simple variables.</p> <p>Here’s how you can persist variables across jobs using artifacts:</p> <pre><code class=language-yaml>jobs:
- job: JobA
  steps:
  - script: echo &quot;JobA output&quot; &gt; output.txt
  - publish: output.txt
    artifact: JobAOutput

- job: JobB
  dependsOn: JobA
  steps:
  - download: current
    artifact: JobAOutput
  - script: cat $(Pipeline.Workspace)/JobAOutput/output.txt
</code></pre> <p>In this example, <code>JobA</code> generates a file <code>output.txt</code>, which is then published as an artifact. <code>JobB</code> downloads this artifact and can then use the contents of <code>output.txt</code> in its execution.</p> <h1 id=part-6.exchanging-variables-between-stages>Part 6. Exchanging Variables Between Stages</h1> <h2 id=a.stage-level-variable-sharing>a. Stage-Level Variable Sharing</h2> <p>In Azure Pipelines, stages represent major steps in your CI/CD pipeline, such as build, test, and deploy phases. Sharing variables between these stages is essential when you need to pass data or state information across different stages of your pipeline. However, since each stage runs in isolation, direct variable sharing between stages is not as straightforward as within tasks or jobs.</p> <p>To share variables between stages, Azure Pipelines provides mechanisms like pipeline context and artifacts.</p> <ul><li><p><strong>Pipeline Context</strong>: Pipeline context refers to the overall environment and data that can be accessed throughout the pipeline execution. While variables defined in one stage aren't directly accessible in another, you can pass information via pipeline context. For instance, you can set variables in one stage and then access them in subsequent stages using the <code>stageDependencies</code> and <code>dependencies</code> syntax.</p> </li> <li><p><strong>Pipeline Artifacts</strong>: Artifacts are files or data generated during a pipeline run that you can store and share between stages. By using artifacts, you can persist output from one stage and retrieve it in another. For example, a build stage might produce an artifact that is later consumed by a deployment stage. Artifacts ensure that the necessary data is available when needed, even across isolated stages.</p> </li></ul> <h2 id=b.example-pipeline-with-multi-stage-variable-sharing>b. Example Pipeline with Multi-Stage Variable Sharing</h2> <p>Let’s consider a multi-stage pipeline where a variable is defined in the build stage and used in the deployment stage.</p> <p><strong>Example YAML Pipeline:</strong></p> <pre><code class=language-yaml>stages:
- stage: Build
  jobs:
  - job: BuildJob
    steps:
    - script: |
        echo &quot;##vso[task.setvariable variable=BUILD_NUMBER;isOutput=true]$(Build.BuildId)&quot;
      name: SetBuildNumber
    - publish: $(Pipeline.Workspace)/output
      artifact: buildOutput

- stage: Deploy
  dependsOn: Build
  jobs:
  - job: DeployJob
    variables:
      BUILD_NUMBER: $[ dependencies.Build.jobs.BuildJob.outputs['SetBuildNumber.BUILD_NUMBER'] ]
    steps:
    - download: current
      artifact: buildOutput
    - script: |
        echo &quot;Deploying build number $(BUILD_NUMBER)&quot;
</code></pre> <p><strong>Explanation</strong>:</p> <ul><li><p><strong>Build Stage</strong>: In the <code>Build</code> stage, we run a script that sets a variable <code>BUILD_NUMBER</code> using the special <code>##vso[task.setvariable]</code> syntax. The <code>isOutput=true</code> flag allows this variable to be referenced in subsequent stages. We also publish an artifact named <code>buildOutput</code> that can be used later.</p> </li> <li><p><strong>Deploy Stage</strong>: The <code>Deploy</code> stage depends on the <code>Build</code> stage and retrieves the <code>BUILD_NUMBER</code> variable from the <code>BuildJob</code>. This variable is then used within the <code>DeployJob</code> to echo the build number. The <code>download</code> step retrieves the artifact produced in the <code>Build</code> stage, ensuring the deployment has the necessary build files.</p> </li></ul> <h3 id=best-practices-for-managing-variables-in-complex-pipelines>Best Practices for Managing Variables in Complex Pipelines:</h3> <ul><li><strong>Consistent Naming Conventions</strong>: Use consistent and descriptive names for variables to avoid confusion when passing data between stages.</li> <li><strong>Use Artifacts for Larger Data</strong>: If you're passing large or complex data between stages, prefer artifacts over variables to maintain clarity and efficiency.</li> <li><strong>Document Variable Flow</strong>: Clearly document which variables are set and used in each stage, especially in large pipelines with multiple stages. This helps in troubleshooting and maintaining the pipeline.</li> <li><strong>Use Secure Files and Secrets</strong>: For sensitive data, consider using secure files or Azure Key Vault to manage secrets rather than passing them as plain text variables.</li></ul> <h1 id=conclusion>Conclusion</h1> <p>Working with variables in Bash scripting and Azure Pipelines can seem complicated at first, especially with the different ways symbols like <code>$</code>, <code>(</code>, <code>[</code>, and <code>{</code> are used. However, like any skill, it becomes easier with practice. The more you work with these concepts, the more intuitive they will become.</p> </div> </div> <div class="row border-end border-start border-top bg-light mt-4"> <div class="col pt-2" style=text-align:center> This page is <strong>open source</strong>. Noticed a typo? Or something unclear?<br> <a class="btn align-middle" href=https://github.com/georgekosmidis/blog.georgekosmidis.net//tree/main/workables/articles/100620-variables-in-bash-and-azure-pipelines/content.html role=button style=text-decoration:none target=_blank rel=noopener> <svg xmlns=http://www.w3.org/2000/svg width=22 height=22 fill=currentColor viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" /></svg> Edit Page </a> <a class="btn align-middle" href="https://github.com/georgekosmidis/blog.georgekosmidis.net//issues/new?permalink=https://github.com/georgekosmidis/blog.georgekosmidis.net//tree/main/workables/articles/100620-variables-in-bash-and-azure-pipelines/content.html" role=button style=text-decoration:none target=_blank rel=noopener> <svg xmlns=http://www.w3.org/2000/svg width=22 height=22 fill=currentColor viewBox="0 0 24 24"><path fill-rule=evenodd d="M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 13a2 2 0 100-4 2 2 0 000 4z"></path></svg> Create Issue </a> <a class="btn align-middle" href="https://github.com/georgekosmidis/blog.georgekosmidis.net/discussions/new?title=Variables in Bash and Azure Pipelines&amp;body=Article%20URL:%20https://blog.georgekosmidis.net//variables-in-bash-and-azure-pipelines.html" role=button style=text-decoration:none target=_blank rel=noopener> <svg aria-hidden=true height=22 viewBox="0 0 16 16" version=1.1 width=22 data-view-component=true class="octicon octicon-comment-discussion UnderlineNav-octicon d-none d-sm-inline"><path fill-rule=evenodd d="M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z"></path></svg> Discuss </a> </div> </div> </div> </div> <div class=col-lg-4> <div class="container px-0 mx-0 right-column-container"> <div class="col mb-4"> <div class="card text-center bg-transparent border-0" style=height:33px><script async src="https://cse.google.com/cse.js?cx=c67a1214306f44e87" nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><div class=gcse-searchbox-only></div> </div> </div> <div class="col mb-4"> <div class="card shadow"> <img src=/media/mvp.png class="bd-placeholder-img card-img-top" alt="Microsoft MVP - George Kosmidis"> <a href=https://mvp.microsoft.com/en-us/PublicProfile/5004591 target=_blank title="Microsoft MVP - George Kosmidis" class=stretched-link rel=noopener></a> </div> </div> <div class="col mb-4"> <div class="card shadow"> <img src=/media/azure-architecture-icons.png class="bd-placeholder-img card-img-top" alt="Azure Architecture Icons - SVGs, PNGs and draw.io libraries"> <a href=/azure-architecture-icons.html target=_top title="Azure Architecture Icons - SVGs, PNGs and draw.io libraries" class=stretched-link rel=noopener></a> </div> </div> </div> </div> </div> <div class=col-lg-4> &nbsp; </div> </div> </div> </div> </main> <footer class="footer mt-auto py-3 border-top"> <div class="container mx-auto text-center"> <a href=https://github.com/georgekosmidis target=_blank class=btn rel=noopener> <svg role=img class=icon viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> </a> <a href="https://www.linkedin.com/in/georgekosmidis/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg> </a> <a href=https://www.youtube.com/c/GeorgeKosmidis target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>YouTube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg> </a> <a href="https://sessionize.com/georgekosmidis/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 288 288" xmlns=http://www.w3.org/2000/svg><title>Sessionize</title><g transform="translate(0.000000,288.000000) scale(0.100000,-0.100000)"><path d="M135 2861 c-22 -10 -54 -34 -72 -52 -67 -71 -63 22 -63 -1369 0 -1391 -4 -1298 63 -1369 70 -73 42 -71 715 -71 l602 0 0 40 c0 108 -52 232 -127 301 -92 85 -229 125 -469 139 -119 6 -160 13 -190 28 -63 32 -96 81 -108 161 -6 43 12 87 470 1118 263 590 480 1073 483 1073 3 0 22 -42 41 -92 47 -127 157 -344 228 -453 156 -239 367 -450 607 -608 100 -65 373 -202 478 -238 37 -13 67 -27 67 -30 0 -3 -348 -160 -772 -349 -425 -188 -777 -346 -782 -350 -4 -5 11 -18 35 -30 235 -119 367 -331 394 -633 l7 -77 482 0 c444 0 484 2 521 19 51 23 111 89 125 138 8 27 10 249 8 773 -4 660 -6 743 -22 809 -69 289 -197 522 -396 721 -199 199 -432 327 -721 396 -67 16 -148 18 -819 21 -712 3 -747 2 -785 -16z m2069 -483 c99 -51 198 -181 200 -264 1 -57 -21 -79 -77 -78 -137 3 -328 220 -288 328 19 50 84 55 165 14z"></path></g></svg> </a> <a href=https://www.facebook.com/groups/msdevtech target=_blank class=btn rel=noopener> <svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 400 400" role=img><path d="M353.701,0H55.087C24.665,0,0.002,24.662,0.002,55.085v298.616c0,30.423,24.662,55.085,55.085,55.085 h147.275l0.251-146.078h-37.951c-4.932,0-8.935-3.988-8.954-8.92l-0.182-47.087c-0.019-4.959,3.996-8.989,8.955-8.989h37.882 v-45.498c0-52.8,32.247-81.55,79.348-81.55h38.65c4.945,0,8.955,4.009,8.955,8.955v39.704c0,4.944-4.007,8.952-8.95,8.955 l-23.719,0.011c-25.615,0-30.575,12.172-30.575,30.035v39.389h56.285c5.363,0,9.524,4.683,8.892,10.009l-5.581,47.087 c-0.534,4.506-4.355,7.901-8.892,7.901h-50.453l-0.251,146.078h87.631c30.422,0,55.084-24.662,55.084-55.084V55.085 C408.786,24.662,384.124,0,353.701,0z" /></svg> </a> <a href="https://www.meetup.com/munich-dotnet-meetup/" target=_blank class=btn rel=noopener> <svg role=img viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>Meetup</title><path d="M6.98.555a.518.518 0 0 0-.105.011.53.53 0 1 0 .222 1.04.533.533 0 0 0 .409-.633.531.531 0 0 0-.526-.418zm6.455.638a.984.984 0 0 0-.514.143.99.99 0 1 0 1.02 1.699.99.99 0 0 0 .34-1.36.992.992 0 0 0-.846-.482zm-3.03 2.236a5.029 5.029 0 0 0-4.668 3.248 3.33 3.33 0 0 0-1.46.551 3.374 3.374 0 0 0-.94 4.562 3.634 3.634 0 0 0-.605 4.649 3.603 3.603 0 0 0 2.465 1.597c.018.732.238 1.466.686 2.114a3.9 3.9 0 0 0 5.423.992c.068-.047.12-.106.184-.157.987.881 2.47 1.026 3.607.24a2.91 2.91 0 0 0 1.162-1.69 4.238 4.238 0 0 0 2.584-.739 4.274 4.274 0 0 0 1.19-5.789 2.466 2.466 0 0 0 .433-3.308 2.448 2.448 0 0 0-1.316-.934 4.436 4.436 0 0 0-.776-2.873 4.467 4.467 0 0 0-5.195-1.656 5.106 5.106 0 0 0-2.773-.807zm-5.603.817a.759.759 0 0 0-.423.135.758.758 0 1 0 .863 1.248.757.757 0 0 0 .193-1.055.758.758 0 0 0-.633-.328zm15.994 2.37a.842.842 0 0 0-.47.151.845.845 0 1 0 1.175.215.845.845 0 0 0-.705-.365zm-8.15 1.028c.063 0 .124.005.182.014a.901.901 0 0 1 .45.187c.169.134.273.241.432.393.24.227.414.089.534.02.208-.122.369-.219.984-.208.633.011 1.363.237 1.514 1.317.168 1.199-1.966 4.289-1.817 5.722.106 1.01 1.815.299 1.96 1.22.186 1.198-2.136.753-2.667.493-.832-.408-1.337-1.34-1.12-2.26.16-.688 1.7-3.498 1.757-3.93.059-.44-.177-.476-.324-.484-.19-.01-.34.081-.526.362-.169.255-2.082 4.085-2.248 4.398-.296.56-.67.694-1.044.674-.548-.029-.798-.32-.72-.848.047-.31 1.26-3.049 1.323-3.476.039-.265-.013-.546-.275-.68-.263-.135-.572.07-.664.227-.128.215-1.848 4.706-2.032 5.038-.316.576-.65.76-1.152.784-1.186.056-2.065-.92-1.678-2.116.173-.532 1.316-4.571 1.895-5.599.389-.69 1.468-1.216 2.217-.892.387.167.925.437 1.084.507.366.163.759-.277.913-.412.155-.134.302-.276.49-.357.142-.06.343-.095.532-.094zm10.88 2.057a.468.468 0 0 0-.093.011.467.467 0 0 0-.36.555.47.47 0 0 0 .557.36.47.47 0 0 0 .36-.557.47.47 0 0 0-.464-.37zm-22.518.81a.997.997 0 0 0-.832.434 1 1 0 1 0 1.39-.258 1 1 0 0 0-.558-.176zm21.294 2.094a.635.635 0 0 0-.127.013.627.627 0 0 0-.48.746.628.628 0 0 0 .746.483.628.628 0 0 0 .482-.746.63.63 0 0 0-.621-.496zm-18.24 6.097a.453.453 0 0 0-.092.012.464.464 0 1 0 .195.908.464.464 0 0 0 .356-.553.465.465 0 0 0-.459-.367zm13.675 1.55a1.044 1.044 0 0 0-.583.187 1.047 1.047 0 1 0 1.456.265 1.044 1.044 0 0 0-.873-.451zM11.4 22.154a.643.643 0 0 0-.36.115.646.646 0 0 0-.164.899.646.646 0 0 0 .899.164.646.646 0 0 0 .164-.898.646.646 0 0 0-.54-.28z"></path></svg> </a> <div class=text-muted>© Copyright 2022, <a href="https://georgekosmidis.net/" target=_blank rel=noopener>George Kosmidis</a> <br> Is lawyer the most boring job in the world? Read the <a href=/privacy.html>Privacy Policy</a> to find out. <br><small class=text-black-50>Last Build: 2024-10-12T03:03:33+00:00 </small> </div> </div> </footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p crossorigin=anonymous nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><script src=https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><script src=https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.4.0/highlight.min.js integrity="sha256-GCgWKkl4RE3+M/TNH5d/F80Tz30PQT+Oubq5Q3I5c20=" crossorigin=anonymous nonce=03904c80-0930-40a5-ba39-0a4a21ab2111></script><script nonce=03904c80-0930-40a5-ba39-0a4a21ab2111>hljs.highlightAll();</script><script nonce=03904c80-0930-40a5-ba39-0a4a21ab2111>window.cookieconsent.initialise({"palette":{"popup":{"background":"#343c66","text":"#cfcfe8"},"button":{"background":"#f71559"}},"showLink":false,"theme":"classic","content":{"message":"Cookie Warning! My blog uses Google Analytics so Google knows you are here. Maybe others too, including FBI, CIA, NASA, ESA, IIS and other acronyms. If you don't like it, you must unfortunately go :(","dismiss":"It's just code, I 'll stay!"}});</script></body></html>